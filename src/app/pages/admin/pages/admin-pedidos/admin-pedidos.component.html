<div class="pedidos-wrap">
  <h2>Gerenciamento de Pedidos</h2>

  <div *ngIf="pedidosExpandidos.length === 0" class="empty">
    Nenhum pedido realizado até o momento.
  </div>

  <div *ngFor="let pedido of pedidosExpandidos" class="pedido-card">
    
    <div class="card-header">
      <h3>
        Pedido #{{ pedido.id }} 
        
      </h3>

      <div class="acoes">
    
        <ng-container *ngIf="pedido.status !== 'entregue'">
          <button class="btn-check" (click)="confirmarEntrega(pedido.id)" title="Confirmar Entrega">
            ✔
          </button>
          
          <button class="btn-remover" (click)="removerPedido(pedido.id)" title="Cancelar Pedido">
            ✕
          </button>
        </ng-container>

        <div *ngIf="pedido.status === 'entregue'" class="selo-entregue">
          ✅ Entregue
        </div>

      </div>
    </div>

    <div class="dados-cliente">
      <p><strong>Cliente:</strong> {{ pedido.clienteNome }}</p>
      <p><strong>Telefone:</strong> {{ pedido.clienteTelefone }}</p>
      <p><strong>Email:</strong> {{ pedido.clienteEmail }}</p>
      <p><strong>Data/Hora:</strong> {{ pedido.date | date:'dd/MM/yy | HH:mm' }}</p>
    </div>

    <div class="itens">
      <h4>Itens Comprados:</h4>
      <ul>
        <li *ngFor="let item of pedido.items">
          <strong>{{ item.quantity }}x</strong> {{ item.name }} 
          <span class="preco-item">({{ item.price | currency:'BRL' }})</span>
        </li>
      </ul>
    </div>

    <div class="total">
      <strong>Total do Pedido:</strong> {{ pedido.total | currency:'BRL' }}
    </div>
  </div>
</div>


